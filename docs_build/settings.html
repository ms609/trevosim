<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>6. Settings - Organisms and simulation &mdash; TREvoSim 3.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/documentation_options.js?v=acc74ff5"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="7. Settings - Environment, events and playing fields" href="settings2.html" />
    <link rel="prev" title="5. Window Layout" href="windowlayout.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            TREvoSim
              <img src="_static/TREvoSim.jpg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.0.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="requirementsinstallation.html">2. Requirements and Installation from Binaries</a></li>
<li class="toctree-l1"><a class="reference internal" href="buildingfromsource.html">3. Compiling from Source and Development Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="algorithmconcepts.html">4. Algorithm and Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="windowlayout.html">5. Window Layout</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">6. Settings - Organisms and simulation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#organisms">6.1. Organisms</a></li>
<li class="toctree-l2"><a class="reference internal" href="#simulations">6.2. Simulations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="settings2.html">7. Settings - Environment, events and playing fields</a></li>
<li class="toctree-l1"><a class="reference internal" href="loggingsim.html">8. Logging the Simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="filecommands.html">9. Menu commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="software_tests.html">10. Tests</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">TREvoSim</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active"><span class="section-number">6. </span>Settings - Organisms and simulation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/settings.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="settings-organisms-and-simulation">
<span id="settings"></span><h1><span class="section-number">6. </span>Settings - Organisms and simulation<a class="headerlink" href="#settings-organisms-and-simulation" title="Link to this heading">¶</a></h1>
<p>Clicking on the settings button of the toolbar will launch a settings dialogue which has two tabs - one with settings for the organisms in the simulation, and one controlling the environment for the simulation.</p>
<figure class="align-center">
<img alt="_images/settings_01.png" src="_images/settings_01.png" />
</figure>
<section id="organisms">
<h2><span class="section-number">6.1. </span>Organisms<a class="headerlink" href="#organisms" title="Link to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">Number of characters/genome size<span class="colon">:</span></dt>
<dd class="field-odd"><p>This defines the number of bits in character string for each organism, and ultimately the character number of the matrix output by the software.</p>
</dd>
<dt class="field-even">Characters for species identification<span class="colon">:</span></dt>
<dd class="field-even"><p>This defines the number of characters used to identify species. When this is different to the genome size, only the characters between zero and this number are used in the species delineation parts of the TREvoSim algorithm. By default (when the genome size is changed in the settings) this number will update to be the same value as the genome size, but changing it to a smaller value allows a portion of characters that are not tied to species identity.</p>
</dd>
<dt class="field-odd">Characters for fitness calculation<span class="colon">:</span></dt>
<dd class="field-odd"><p>This defines the number of characters used in the fitness algorithm. When this is different to the genome size, on the characters between zero and this number are used to calculate fitness. By default this will update to be the same value as the genome size, but changing it to a smaller value allows for a ‘non-coding’ portion of the genome, with a more drift-like/stochastic behaviour (note, however, that this portion of genome is still part of an organism that is under selection).</p>
</dd>
<dt class="field-even">Rate of organism mutation<span class="colon">:</span></dt>
<dd class="field-even"><p>This is the rate of mutation for the organisms in the simulation, in units of mutations per hundred characters per iteration.</p>
</dd>
<dt class="field-odd">Stochastic layer<span class="colon">:</span></dt>
<dd class="field-odd"><p>This tick box dictates whether a stochastic layer is used. The stochastic layer is a secondary string of bits that can be used to abstract the fitness calculation from the genome and its mutations, through a mechanism based on many-to-one mapping. When this box is ticked, on settings close, another dialogue is launched that allows you to - for every possible combination of 4 bits - define an output, i.e. 0 or 1, referred to here as the map. When the setting is enabled, each organism stores an internal genome four times the length of the organism’s gnome. During the simulation, mutations are applied to the stochastic layer (at the user defined rate per 100 characters), but all other operations employ the standard genome. When mutations are applied, the map is then used to convert bits from the stochastic layer into the genome that is used elsewhere (i.e. for every four stochastic bits, the output is 1 standard bit, based on the map). This abstraction process could be considered, for instance, a highly simplified parallel to e.g. ontogeny: it removes the fitness of the organism from direct control of its genome, and thus facilitates silent mutations and neutral theory of evolution type / less strongly adaptationist dynamics. Note: The stochastic layer only works currently when the character number, characters for species identification, and characters for fitness calculation are the same. As such, selecting this option sets all values to be the same as total character number, and prevents changes when selected to all but total character number.</p>
</dd>
<dt class="field-even">Depth of layer<span class="colon">:</span></dt>
<dd class="field-even"><p>In future versions, to allow further abstraction, varying the number of layers created from this map is planned (e.g. if the depth is two, then a second stochastic layer will be created from the first, the second being sixteen times the length of the organismal genome, and dictating the makeup of the first). This is not currently implemented, and so at present, this option is limited to one.</p>
</dd>
</dl>
</section>
<section id="simulations">
<h2><span class="section-number">6.2. </span>Simulations<a class="headerlink" href="#simulations" title="Link to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">Run mode radio<span class="colon">:</span></dt>
<dd class="field-odd"><p>This has two options, run for iteration number or run to taxon number, which switches between the two options below.</p>
</dd>
<dt class="field-even">Run to taxon number<span class="colon">:</span></dt>
<dd class="field-even"><p>If run mode is taxon number, a simulation will run until this number of species has evolved, and then terminate.</p>
</dd>
<dt class="field-odd">Run for iterations number<span class="colon">:</span></dt>
<dd class="field-odd"><p>If run mode is iteration number, a simulation will run until this number of iterations, and then terminate.</p>
</dd>
<dt class="field-even">Species difference<span class="colon">:</span></dt>
<dd class="field-even"><p>The Hamming distance between a selected organism, post mutation, and either the character string when the species originated, or the last species to originate within the lineage (see Keating et al. [<a class="reference external" href="https://doi.org/10.1093/sysbio/syaa012">2020</a>] for rationale) is used within the TREvoSim species concept. This setting defines the required Hamming distance for a speciation to have occurred.</p>
</dd>
<dt class="field-odd">Unresolvable cut off<span class="colon">:</span></dt>
<dd class="field-odd"><p>With low character numbers, especially when TREvoSim is set to strip out uninformative characters, terminals can have the same character string within a matrix, and thus be unresolvable. This setting defines upper limit for identical terminals. If there are more unresolvable taxa than this number in a single run, output files are not written and a warning is provided. If batch mode is underway, the current run is discarded and started again.</p>
</dd>
<dt class="field-even">Fitness target<span class="colon">:</span></dt>
<dd class="field-even"><p>This is the target value for the count of 1s in the fitness calculation. See Garwood et al. (<a class="reference external" href="https://doi.org/10.1111/pala.12420">2019</a>) or Keating et al (2020) for details of the fitness algorithm. At low and high values (max being mask number multiplied by character number) fewer genomes will have peak fitness, at half max value, a larger number of peak fitness organisms exist. This can be quantified using the <a class="reference internal" href="filecommands.html#fitness-histogram"><span class="std std-ref">Fitness histogram</span></a> menu command.</p>
</dd>
<dt class="field-odd">No selection<span class="colon">:</span></dt>
<dd class="field-odd"><p>If this option is enabled, fitnesses are not calculated for digital organisms in the playing field, and instead every iteration and random individual is selected for replication.</p>
</dd>
<dt class="field-even">Sansomian speciation<span class="colon">:</span></dt>
<dd class="field-even"><p>This option dictates when the character string of a species is recorded: at speciation, or at extinction. Sansomian speciation (named because it was Dr Rob Sansom’s idea, rather than being a wider concept), the default, is to record the genome/characters of a species when that species goes extinct. This is useful, in particular with respect to species zero – that used to seed the simulation. Because this tends to survive for longer than other species (see discussion in <a class="reference internal" href="algorithmconcepts.html#tree-rooting"><span class="std std-ref">Tree Rooting</span></a>), the genome at the start of a species lifespan could differ significantly from that at its extinction. Recording the genome of the last individual of the species ensures in such long-surviving species that the recorded characters are closest that of its sister species (and also the last common ancestor of these two species). When the option is not selected, genome is recorded at speciation.</p>
</dd>
<dt class="field-odd">Discard deleterious mutations<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optionally, TREvoSim can accept only mutations which are neutral, or improve the fitness of an organism.</p>
</dd>
<dt class="field-even">Strip uninformative characters via subsampling<span class="colon">:</span></dt>
<dd class="field-even"><p>TREvoSim gives the option of writing matrices of only parsimony informative characters. When this option is checked, the software attempts to provide the requested character number of only informative characters. It achieves this by multiplying the number of characters and species difference by a factor (the strip uninformative factor) at the start of a run, that defaults to a value of 5.0. After a run has completed, informative characters are randomly subsampled to the requested number of characters. If there are not enough characters to achieve this, in batch mode the run is discarded and restarted, in single run mode an error message is provided. Note that the strip uninformative factor can be set manually, or recalculated empirically for the current settings (see <a class="reference internal" href="filecommands.html#set-uninformative-factor"><span class="std std-ref">Set uninformative factor</span></a> / <a class="reference internal" href="filecommands.html#recalculate-uninformative-factor-for-current-settings"><span class="std std-ref">Recalculate uninformative factor for current settings</span></a> ).</p>
</dd>
<dt class="field-odd">Random starting individual<span class="colon">:</span></dt>
<dd class="field-odd"><p>By default, the organism used to initialise a simulation is one near peak fitness for the starting environment(s), to prevent the resulting tree from documenting a lineage adapting to a fitness peak (this results in a highly asymmetrical tree). When checked, this option switches to using a random individual to initialise the simulation.</p>
</dd>
</dl>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="windowlayout.html" class="btn btn-neutral float-left" title="5. Window Layout" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="settings2.html" class="btn btn-neutral float-right" title="7. Settings - Environment, events and playing fields" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright (TREvoSim documentation) 2024, Russell J. Garwood, Alan R.T. Spencer.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>